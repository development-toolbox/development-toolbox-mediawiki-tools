<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Migration Guide - MediaWiki Migration Tools</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; max-width: 1200px; margin: 0 auto; padding: 20px; }
        h1, h2, h3 { color: #2563eb; }
        code { background: #f1f5f9; padding: 2px 4px; border-radius: 3px; }
        pre { background: #1e293b; color: white; padding: 1rem; border-radius: 8px; overflow-x: auto; }
        .back-link { display: inline-block; margin-bottom: 1rem; padding: 0.5rem 1rem; background: #2563eb; color: white; text-decoration: none; border-radius: 5px; }
        table { border-collapse: collapse; width: 100%; margin: 1rem 0; }
        th, td { border: 1px solid #e2e8f0; padding: 8px 12px; text-align: left; }
        th { background: #f8fafc; }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Main Documentation</a>
<h1>Complete Azure DevOps to MediaWiki Migration Guide</h1>
<p>This guide walks you through the entire process of migrating your Azure DevOps wiki to MediaWiki, from initial planning to final validation.</p>
<h2>üéØ Overview</h2>
<p><strong>Estimated Time</strong>: 2-8 hours (depending on wiki size and complexity)
<strong>Difficulty</strong>: Intermediate
<strong>Prerequisites</strong>: Basic command line knowledge, admin access to both systems</p>
<h2>üìã Phase 1: Pre-Migration Planning (30-60 minutes)</h2>
<h3>Step 1.1: Set Up Your Migration Environment</h3>
<ol>
<li>
<p><strong>Clone the migration tools repository:</strong>
   <code>bash
   git clone https://github.com/development-toolbox/development-toolbox-mediawiki-tools.git
   cd development-toolbox-mediawiki-tools</code></p>
</li>
<li>
<p><strong>Set up Python environment:</strong>
   <code>bash
   # Install dependencies
   cd migration
   pip install -r requirements.txt</code></p>
</li>
<li>
<p><strong>Configure your environment:</strong>
   ```bash
   # Copy environment template
   cp .env.template .env</p>
</li>
</ol>
<p># Edit .env with your credentials
   notepad .env  # Windows
   nano .env     # Linux/Mac
   ```</p>
<ol>
<li><strong>Required credentials:</strong></li>
<li><strong>Azure DevOps PAT</strong>: Go to Azure DevOps ‚Üí Settings ‚Üí Personal Access Tokens ‚Üí New Token<ul>
<li>Scopes needed: <code>Wiki (Read)</code></li>
</ul>
</li>
<li><strong>MediaWiki credentials</strong>: Admin user with page creation permissions</li>
</ol>
<h3>Step 1.2: Analyze Your Current Wiki</h3>
<ol>
<li>
<p><strong>Run the pre-migration analysis:</strong>
   <code>bash
   python migration_planner.py</code></p>
</li>
<li>
<p><strong>Review the generated report:</strong></p>
</li>
<li>Open <code>migration_analysis_report.md</code></li>
<li>Note pages requiring special attention</li>
<li>Estimate total migration time</li>
<li>
<p>Identify images and attachments that need manual handling</p>
</li>
<li>
<p><strong>Key things to look for:</strong></p>
</li>
<li>Number of pages with high complexity</li>
<li>Total number of images/attachments</li>
<li>Pages with tables or HTML content</li>
<li>Internal links that might break</li>
</ol>
<h3>Step 1.3: Preview Content Conversion</h3>
<ol>
<li>
<p><strong>Run content preview tool:</strong>
   <code>bash
   python content_previewer.py</code></p>
</li>
<li>
<p><strong>Choose preview option:</strong></p>
</li>
<li>Select "Sample pages" for first-time migration</li>
<li>
<p>Select "Specific page" if you want to test a particular page</p>
</li>
<li>
<p><strong>Review the preview report:</strong></p>
</li>
<li>Open <code>content_preview_report.md</code></li>
<li>Check if the conversion looks acceptable</li>
<li>Note any major formatting issues</li>
</ol>
<p>‚úÖ <strong>Phase 1 Checkpoint</strong>: You should now have a clear understanding of your migration scope and complexity.</p>
<hr />
<h2>üõ†Ô∏è Phase 2: MediaWiki Preparation (30-45 minutes)</h2>
<h3>Step 2.1: Set Up MediaWiki Test Environment</h3>
<ol>
<li>
<p><strong>Option A: Use Docker (Recommended for testing)</strong>
   <code>bash
   cd ../examples
   docker-compose up -d
   # MediaWiki will be available at http://localhost:8080</code></p>
</li>
<li>
<p><strong>Option B: Use existing MediaWiki</strong></p>
</li>
<li>Ensure you have admin access</li>
<li>Create a backup before testing</li>
</ol>
<h3>Step 2.2: Configure MediaWiki</h3>
<ol>
<li><strong>Enable necessary extensions</strong> (if not already enabled):</li>
<li><strong>SyntaxHighlight_GeSHi</strong>: For code blocks</li>
<li><strong>ParserFunctions</strong>: For advanced templates</li>
<li>
<p><strong>WikiEditor</strong>: Better editing experience</p>
</li>
<li>
<p><strong>Test basic functionality:</strong></p>
</li>
<li>Create a test page with various formatting</li>
<li>Verify code highlighting works</li>
<li>Test table creation</li>
</ol>
<h3>Step 2.3: Prepare for Images and Attachments</h3>
<ol>
<li>
<p><strong>Create directory for downloaded assets:</strong>
   <code>bash
   mkdir -p ../assets/images
   mkdir -p ../assets/attachments</code></p>
</li>
<li>
<p><strong>Plan image handling strategy:</strong></p>
</li>
<li>Will you migrate all images or just essential ones?</li>
<li>Do you need to optimize image sizes?</li>
<li>How will you handle internal image links?</li>
</ol>
<p>‚úÖ <strong>Phase 2 Checkpoint</strong>: Your MediaWiki is ready and you have a plan for handling multimedia content.</p>
<hr />
<h2>üöÄ Phase 3: Test Migration (45-90 minutes)</h2>
<h3>Step 3.1: Run Small Test Migration</h3>
<ol>
<li>
<p><strong>Start with low-complexity pages:</strong>
   <code>bash
   # Edit your .env to point to test MediaWiki
   python azure_devops_migrator.py</code></p>
</li>
<li>
<p><strong>If you want to test specific pages first:</strong></p>
</li>
<li>Modify the migration script to filter pages</li>
<li>Or manually test with content previewer first</li>
</ol>
<h3>Step 3.2: Verify Test Results</h3>
<ol>
<li><strong>Check migrated content:</strong></li>
<li>Visit your test MediaWiki</li>
<li>Navigate to migrated pages</li>
<li>
<p>Verify formatting looks correct</p>
</li>
<li>
<p><strong>Common issues to check:</strong></p>
</li>
<li>Are headers formatted correctly?</li>
<li>Do tables display properly?</li>
<li>Are code blocks highlighted?</li>
<li>
<p>Do internal links work?</p>
</li>
<li>
<p><strong>Document any issues:</strong></p>
</li>
<li>Note pages that need manual adjustment</li>
<li>Identify patterns in conversion problems</li>
</ol>
<h3>Step 3.3: Handle Images and Attachments</h3>
<ol>
<li><strong>Download images from Azure DevOps:</strong></li>
<li>This must be done manually (Azure DevOps API limitation)</li>
<li>Save images to your <code>assets/images/</code> directory</li>
<li>
<p>Note the original URLs for link replacement</p>
</li>
<li>
<p><strong>Upload images to MediaWiki:</strong>
   <code>bash
   # Use MediaWiki's Special:Upload or bulk upload tools
   # Document new image URLs for link updates</code></p>
</li>
<li>
<p><strong>Update image references:</strong></p>
</li>
<li>Find pages with broken image links</li>
<li>Replace with new MediaWiki image URLs</li>
<li>Test that images display correctly</li>
</ol>
<p>‚úÖ <strong>Phase 3 Checkpoint</strong>: You've successfully tested the migration process and resolved any major issues.</p>
<hr />
<h2>üéØ Phase 4: Production Migration (1-4 hours)</h2>
<h3>Step 4.1: Prepare Production Environment</h3>
<ol>
<li><strong>Back up your current MediaWiki</strong> (if existing):
   ```bash
   # Database backup
   mysqldump -u username -p wiki_db &gt; mediawiki_backup.sql</li>
</ol>
<p># Files backup
   tar -czf mediawiki_files_backup.tar.gz /path/to/mediawiki/
   ```</p>
<ol>
<li><strong>Update .env for production:</strong></li>
<li>Change WIKI_URL to production MediaWiki</li>
<li>Use production credentials</li>
<li>Double-check all settings</li>
</ol>
<h3>Step 4.2: Execute Full Migration</h3>
<ol>
<li>
<p><strong>Run the complete migration:</strong>
   <code>bash
   python azure_devops_migrator.py &gt; migration.log 2&gt;&amp;1</code></p>
</li>
<li>
<p><strong>Monitor progress:</strong></p>
</li>
<li>Watch the console output</li>
<li>Check <code>migration.log</code> if any errors occur</li>
<li>
<p>Note pages that fail to migrate</p>
</li>
<li>
<p><strong>Handle failed pages:</strong></p>
</li>
<li>Review failed pages manually</li>
<li>Often caused by special characters in titles</li>
<li>May need manual creation with sanitized titles</li>
</ol>
<h3>Step 4.3: Post-Migration Content Review</h3>
<ol>
<li><strong>Review high-complexity pages:</strong></li>
<li>Visit each page identified in your analysis</li>
<li>Verify tables, code blocks, and formatting</li>
<li>
<p>Fix any issues manually</p>
</li>
<li>
<p><strong>Update internal links:</strong></p>
</li>
<li>Search for broken internal links</li>
<li>Update page references if page titles changed</li>
<li>
<p>Consider creating redirect pages for old URLs</p>
</li>
<li>
<p><strong>Upload remaining images:</strong></p>
</li>
<li>Complete image uploads started in testing phase</li>
<li>Update all image references in migrated content</li>
<li>Verify all images display correctly</li>
</ol>
<p>‚úÖ <strong>Phase 4 Checkpoint</strong>: Your complete wiki has been migrated to MediaWiki.</p>
<hr />
<h2>‚úÖ Phase 5: Validation &amp; Cleanup (30-60 minutes)</h2>
<h3>Step 5.1: Content Validation</h3>
<ol>
<li><strong>Spot-check migrated content:</strong></li>
<li>Review a sample of pages from each complexity level</li>
<li>Verify formatting, links, and functionality</li>
<li>
<p>Test search functionality</p>
</li>
<li>
<p><strong>Run validation script</strong> (if available):
   <code>bash
   python ../monitoring/wiki_health_check.py  # Coming soon</code></p>
</li>
</ol>
<h3>Step 5.2: User Access Setup</h3>
<ol>
<li><strong>Configure user accounts:</strong></li>
<li>Import user accounts or set up new ones</li>
<li>Configure user groups and permissions</li>
<li>
<p>Test user access and editing capabilities</p>
</li>
<li>
<p><strong>Set up authentication:</strong></p>
</li>
<li>Configure SSO if needed</li>
<li>Set up user groups matching your organization</li>
<li>Test login and permissions</li>
</ol>
<h3>Step 5.3: Final Documentation</h3>
<ol>
<li><strong>Create user migration guide:</strong></li>
<li>Document key differences between Azure DevOps wiki and MediaWiki</li>
<li>Provide editing guidelines</li>
<li>
<p>Share new wiki URL and access instructions</p>
</li>
<li>
<p><strong>Document any manual changes:</strong></p>
</li>
<li>List pages that needed manual adjustment</li>
<li>Note any ongoing maintenance requirements</li>
<li>Create troubleshooting guide for common issues</li>
</ol>
<p>‚úÖ <strong>Phase 5 Checkpoint</strong>: Migration complete and validated!</p>
<hr />
<h2>üéâ Phase 6: Go-Live &amp; Support (Ongoing)</h2>
<h3>Step 6.1: Announce the Migration</h3>
<ol>
<li><strong>Communicate to stakeholders:</strong></li>
<li>Send announcement with new wiki URL</li>
<li>Provide basic usage instructions</li>
<li>
<p>Share timeline for Azure DevOps wiki shutdown (if applicable)</p>
</li>
<li>
<p><strong>Provide training if needed:</strong></p>
</li>
<li>MediaWiki editing differences</li>
<li>New search and navigation features</li>
<li>How to create and edit pages</li>
</ol>
<h3>Step 6.2: Monitor and Support</h3>
<ol>
<li><strong>Monitor usage:</strong></li>
<li>Watch for user issues or confusion</li>
<li>Check wiki performance and availability</li>
<li>
<p>Monitor search functionality</p>
</li>
<li>
<p><strong>Ongoing maintenance:</strong></p>
</li>
<li>Regular backups</li>
<li>MediaWiki updates</li>
<li>User account management</li>
</ol>
<hr />
<h2>üö® Common Issues &amp; Troubleshooting</h2>
<h3>Authentication Issues</h3>
<p><strong>Problem</strong>: Cannot connect to Azure DevOps or MediaWiki
<strong>Solutions</strong>:
- Verify Personal Access Token has correct permissions
- Check if MediaWiki API is enabled
- For SSO: Use bot passwords or API tokens
- Test API access manually with curl</p>
<h3>Content Conversion Issues</h3>
<p><strong>Problem</strong>: Tables or formatting look wrong
<strong>Solutions</strong>:
- Check MediaWiki extensions are installed
- Verify table syntax conversion
- May need manual adjustment for complex tables</p>
<p><strong>Problem</strong>: Code blocks not highlighted
<strong>Solutions</strong>:
- Install SyntaxHighlight_GeSHi extension
- Check language names in code blocks
- May need to update language identifiers</p>
<h3>Performance Issues</h3>
<p><strong>Problem</strong>: Migration is very slow
<strong>Solutions</strong>:
- Add delays between requests
- Process pages in smaller batches
- Check network connectivity and API rate limits</p>
<h3>Image Issues</h3>
<p><strong>Problem</strong>: Images not displaying
<strong>Solutions</strong>:
- Images must be uploaded manually to MediaWiki
- Update image URLs in page content after upload
- Check MediaWiki upload permissions</p>
<hr />
<h2>üìä Success Metrics</h2>
<p>After migration, you should have:
- ‚úÖ All pages migrated with acceptable formatting
- ‚úÖ Internal links working correctly
- ‚úÖ Images and attachments accessible
- ‚úÖ Users able to access and edit content
- ‚úÖ Search functionality working
- ‚úÖ Backup and recovery procedures in place</p>
<hr />
<h2>üîó Additional Resources</h2>
<ul>
<li><strong>MediaWiki Documentation</strong>: https://www.mediawiki.org/wiki/Documentation</li>
<li><strong>Migration Tools Repository</strong>: https://github.com/development-toolbox/development-toolbox-mediawiki-tools</li>
<li><strong>Azure DevOps Wiki API</strong>: https://docs.microsoft.com/en-us/rest/api/azure/devops/wiki/</li>
</ul>
<hr />
<h2>üìû Getting Help</h2>
<p>If you encounter issues during migration:</p>
<ol>
<li><strong>Check the troubleshooting section</strong> above</li>
<li><strong>Review generated reports</strong> for specific guidance</li>
<li><strong>Test individual components</strong> to isolate issues</li>
<li><strong>Use the preview tools</strong> to understand conversion behavior</li>
<li><strong>Create GitHub issues</strong> in the tools repository for bugs</li>
</ol>
<p><strong>Remember</strong>: Take your time, test thoroughly, and don't hesitate to run additional previews if something doesn't look right!</p>
<hr />
<p><em>This guide is part of the development-toolbox-mediawiki-tools project</em></p>
</body>
</html>
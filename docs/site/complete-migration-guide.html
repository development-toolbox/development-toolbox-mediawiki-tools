<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Migration Guide - MediaWiki Tools</title>
    <style>
        /* Ant Design inspired CSS variables */
        :root {
            --primary-color: #1890ff;
            --primary-hover: #40a9ff;
            --primary-active: #0050b3;
            --success-color: #52c41a;
            --warning-color: #fa8c16;
            --error-color: #f5222d;
            --info-color: #1890ff;
            --text-primary: rgba(0, 0, 0, 0.85);
            --text-secondary: rgba(0, 0, 0, 0.65);
            --text-disabled: rgba(0, 0, 0, 0.25);
            --border-color: #d9d9d9;
            --border-radius: 6px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            --bg-color: #ffffff;
            --bg-light: #fafafa;
            --bg-card: #ffffff;
        }

        body.dark {
            --primary-color: #177ddc;
            --primary-hover: #095cb5;
            --primary-active: #003a8c;
            --success-color: #49aa19;
            --warning-color: #d48806;
            --error-color: #cf1322;
            --info-color: #177ddc;
            --text-primary: rgba(255, 255, 255, 0.85);
            --text-secondary: rgba(255, 255, 255, 0.65);
            --text-disabled: rgba(255, 255, 255, 0.25);
            --border-color: #303030;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.45);
            --bg-color: #141414;
            --bg-light: #0a0a0a;
            --bg-card: #1f1f1f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.5715;
            color: var(--text-primary);
            background-color: var(--bg-light);
            transition: background-color 0.3s, color 0.3s;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 24px;
            z-index: 1000;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 6px;
            box-shadow: var(--box-shadow);
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .theme-toggle button {
            background: none;
            border: none;
            padding: 8px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            color: var(--text-secondary);
        }

        .theme-toggle button:hover {
            background: var(--bg-light);
            color: var(--text-primary);
        }

        .theme-toggle button.active {
            background: var(--primary-color);
            color: white;
        }

        /* Back to Top and Home buttons */
        .floating-buttons {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .floating-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            font-size: 18px;
            cursor: pointer;
            box-shadow: var(--box-shadow);
            transition: all 0.3s;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .floating-btn:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Layout */
        .ant-layout {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .ant-layout-header {
            background: var(--bg-color);
            padding: 0 24px;
            border-bottom: 1px solid #f0f0f0;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
        }

        .ant-layout-content {
            flex: 1;
            padding: 48px 24px;
        }

        .ant-layout-footer {
            text-align: center;
            background: var(--bg-light);
            border-top: 1px solid #f0f0f0;
            padding: 24px;
        }

        .container {
            max-width: 960px;
            margin: 0 auto;
        }

        /* Typography */
        .ant-typography {
            margin-bottom: 1em;
        }

        .ant-typography h1, .ant-typography h2, .ant-typography h3, .ant-typography h4 {
            font-weight: 600;
            margin: 1.6em 0 0.6em 0;
        }

        .ant-typography h1 { font-size: 38px; line-height: 1.23; }
        .ant-typography h2 { font-size: 30px; line-height: 1.35; border-bottom: 1px solid #f0f0f0; padding-bottom: 0.3em; }
        .ant-typography h3 { font-size: 24px; line-height: 1.35; }
        .ant-typography h4 { font-size: 20px; line-height: 1.4; }
        .ant-typography p { margin-bottom: 1em; }
        .text-secondary { color: var(--text-secondary); }

        /* Card */
        .ant-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 24px;
        }
        .ant-card-body { padding: 24px; }

        /* Alert */
        .ant-alert {
            padding: 12px 16px;
            border-radius: var(--border-radius);
            margin-bottom: 16px;
            border: 1px solid;
        }
        .ant-alert-info { background: #e6f7ff; border-color: #91d5ff; color: #0958d9; }
        .ant-alert-success { background: #f6ffed; border-color: #b7eb8f; color: #389e0d; }
        .ant-alert-error { background: #fff2f0; border-color: #ffccc7; color: #cf1322; }
        .ant-alert-message { font-weight: 500; margin-bottom: 4px; }

        /* Code */
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 13px;
            border: 1px solid #e8e8e8;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
        }
        .code-block {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            margin: 16px 0;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            overflow-x: auto;
        }

        /* List */
        ul, ol {
            padding-left: 20px;
            margin-bottom: 1em;
        }
        li { margin-bottom: 0.5em; }

        /* Button */
        .ant-btn {
            display: inline-block;
            padding: 8px 16px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            background: var(--bg-color);
            color: var(--text-primary);
            text-decoration: none;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        .ant-btn:hover {
            border-color: var(--primary-hover);
            color: var(--primary-hover);
        }
    </style>
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button id="light-theme" class="active" onclick="setTheme('light')" title="Light theme">‚òÄÔ∏è</button>
        <button id="dark-theme" onclick="setTheme('dark')" title="Dark theme">üåô</button>
    </div>

    <div class="ant-layout">
        <header class="ant-layout-header">
            <div>
                <h3 class="ant-typography" style="margin: 0; color: var(--primary-color);">üöÄ MediaWiki Migration Tools</h3>
            </div>
            <a href="index.html" class="ant-btn">üè† Back to Overview</a>
        </header>

        <main class="ant-layout-content">
            <div class="container">
                <div class="ant-card">
                    <div class="ant-card-body">
                        <div class="ant-typography">
                            <h1>Complete Azure DevOps to MediaWiki Migration Guide</h1>
                            <p class="text-secondary">This guide walks you through the entire process of migrating your Azure DevOps wiki to MediaWiki, from initial planning to final validation.</p>
                        </div>

                        <div class="ant-alert ant-alert-info">
                            <div class="ant-alert-message">Guide Details</div>
                            <p><strong>Estimated Time</strong>: 2-8 hours (depending on wiki size and complexity)<br>
                            <strong>Difficulty</strong>: Intermediate<br>
                            <strong>Prerequisites</strong>: Basic command line knowledge, admin access to both systems</p>
                        </div>

                        <h2 class="ant-typography">üìã Phase 1: Pre-Migration Planning (30-60 minutes)</h2>
                        <h3 class="ant-typography">Step 1.1: Set Up Your Migration Environment</h3>
                        <ol>
                            <li><strong>Clone the migration tools repository:</strong>
                                <div class="code-block"><code>git clone https://github.com/development-toolbox/development-toolbox-mediawiki-tools.git<br>cd development-toolbox-mediawiki-tools</code></div>
                            </li>
                            <li><strong>Set up Python environment:</strong>
                                <div class="code-block"><code># Install dependencies<br>cd migration<br>pip install -r requirements.txt</code></div>
                            </li>
                            <li><strong>Configure your environment:</strong>
                                <div class="code-block"><code># Copy environment template<br>cp .env.template .env<br><br># Edit .env with your credentials<br>notepad .env  # Windows<br>nano .env     # Linux/Mac</code></div>
                            </li>
                            <li><strong>Required credentials:</strong>
                                <ul>
                                    <li><strong>Azure DevOps PAT</strong>: Go to Azure DevOps ‚Üí Settings ‚Üí Personal Access Tokens ‚Üí New Token. Scopes needed: <code>Wiki (Read)</code></li>
                                    <li><strong>MediaWiki credentials</strong>: Admin user with page creation permissions</li>
                                </ul>
                            </li>
                        </ol>

                        <h3 class="ant-typography">Step 1.2: Analyze Your Current Wiki</h3>
                        <ol>
                            <li><strong>Run the pre-migration analysis:</strong>
                                <div class="code-block"><code>python migration_planner.py</code></div>
                            </li>
                            <li><strong>Review the generated report:</strong> Open <code>migration_analysis_report.md</code> and note pages requiring special attention, estimate time, and identify manual work.</li>
                            <li><strong>Key things to look for:</strong> Pages with high complexity, number of images/attachments, pages with tables or HTML, and internal links.</li>
                        </ol>

                        <h3 class="ant-typography">Step 1.3: Preview Content Conversion</h3>
                        <ol>
                            <li><strong>Run content preview tool:</strong>
                                <div class="code-block"><code>python content_previewer.py</code></div>
                            </li>
                            <li><strong>Review the preview report:</strong> Open <code>content_preview_report.md</code> to check if the conversion is acceptable.</li>
                        </ol>
                        <div class="ant-alert ant-alert-success">‚úÖ <strong>Phase 1 Checkpoint</strong>: You should now have a clear understanding of your migration scope and complexity.</div>

                        <h2 class="ant-typography">üõ†Ô∏è Phase 2: MediaWiki Preparation (30-45 minutes)</h2>
                        <h3 class="ant-typography">Step 2.1: Set Up MediaWiki Test Environment</h3>
                        <p>Use Docker (Recommended for testing) or an existing MediaWiki instance. For Docker:</p>
                        <div class="code-block"><code>cd ../examples<br>docker-compose up -d<br># MediaWiki will be available at http://localhost:8080</code></div>

                        <h3 class="ant-typography">Step 2.2: Configure MediaWiki</h3>
                        <p>Enable extensions like <code>SyntaxHighlight_GeSHi</code>, <code>ParserFunctions</code>, and <code>WikiEditor</code>. Test basic functionality by creating a test page.</p>

                        <h3 class="ant-typography">Step 2.3: Prepare for Images and Attachments</h3>
                        <p>Create directories for assets and plan your image handling strategy (e.g., which images to migrate, optimization).</p>
                        <div class="code-block"><code>mkdir -p ../assets/images<br>mkdir -p ../assets/attachments</code></div>
                        <div class="ant-alert ant-alert-success">‚úÖ <strong>Phase 2 Checkpoint</strong>: Your MediaWiki is ready and you have a plan for handling multimedia content.</div>

                        <h2 class="ant-typography">üöÄ Phase 3: Test Migration (45-90 minutes)</h2>
                        <p>Run a small test migration with low-complexity pages, verify the results on your test MediaWiki, and document any issues. Handle images and attachments by downloading them from Azure DevOps and uploading them to MediaWiki, then updating the links.</p>
                        <div class="ant-alert ant-alert-success">‚úÖ <strong>Phase 3 Checkpoint</strong>: You've successfully tested the migration process and resolved any major issues.</div>

                        <h2 class="ant-typography">üéØ Phase 4: Production Migration (1-4 hours)</h2>
                        <p>Back up your production MediaWiki, update your <code>.env</code> file with production credentials, and run the full migration. Monitor the process and handle any failed pages. Conduct a post-migration review of complex pages and update all internal and image links.</p>
                        <div class="code-block"><code>python azure_devops_migrator.py > migration.log 2>&1</code></div>
                        <div class="ant-alert ant-alert-success">‚úÖ <strong>Phase 4 Checkpoint</strong>: Your complete wiki has been migrated to MediaWiki.</div>

                        <h2 class="ant-typography">‚úÖ Phase 5: Validation & Cleanup (30-60 minutes)</h2>
                        <p>Spot-check migrated content, set up user accounts and permissions, and create documentation for your users about the new wiki and any changes.</p>
                        <div class="ant-alert ant-alert-success">‚úÖ <strong>Phase 5 Checkpoint</strong>: Migration complete and validated!</div>

                        <h2 class="ant-typography">üéâ Phase 6: Go-Live & Support (Ongoing)</h2>
                        <p>Announce the migration to stakeholders, provide training if necessary, and establish a process for ongoing monitoring and support.</p>

                        <h2 class="ant-typography">üö® Common Issues & Troubleshooting</h2>
                        <div class="ant-alert ant-alert-error">
                            <div class="ant-alert-message">Troubleshooting Tips</div>
                            <ul>
                                <li><strong>Authentication Issues</strong>: Verify PAT permissions and API access. Use bot passwords for SSO.</li>
                                <li><strong>Content Conversion Issues</strong>: Ensure required MediaWiki extensions are installed. Complex tables may need manual adjustment.</li>
                                <li><strong>Performance Issues</strong>: Add delays between requests or process in batches to avoid rate limiting.</li>
                                <li><strong>Image Issues</strong>: Images must be uploaded manually to MediaWiki, and links updated accordingly.</li>
                            </ul>
                        </div>

                        <h2 class="ant-typography">üîó Additional Resources</h2>
                        <ul>
                            <li><a href="https://www.mediawiki.org/wiki/Documentation" target="_blank">MediaWiki Documentation</a></li>
                            <li><a href="https://github.com/development-toolbox/development-toolbox-mediawiki-tools" target="_blank">Migration Tools Repository</a></li>
                            <li><a href="https://learn.microsoft.com/en-us/rest/api/azure/" target="_blank">Azure DevOps Wiki API</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <footer class="ant-layout-footer">
            MediaWiki Migration Tools ¬©2025 Created by Johan S√∂rell | <a href="https://github.com/J-SirL" target="_blank">GitHub</a> | <a href="https://se.linkedin.com/in/johansorell" target="_blank">LinkedIn</a> | <a href="https://automationblueprint.site" target="_blank">Blog</a>
        </footer>
    </div>

    <!-- Floating Navigation Buttons -->
    <div class="floating-buttons">
        <a href="index.html" class="floating-btn" title="Home">üè†</a>
        <button onclick="scrollToTop()" class="floating-btn" title="Back to Top">‚Üë</button>
    </div>

    <script>
        // Theme Toggle Functions
        function setTheme(theme) {
            const body = document.body;
            const lightBtn = document.getElementById('light-theme');
            const darkBtn = document.getElementById('dark-theme');
            
            if (theme === 'dark') {
                body.classList.add('dark');
                lightBtn.classList.remove('active');
                darkBtn.classList.add('active');
                localStorage.setItem('theme', 'dark');
            } else {
                body.classList.remove('dark');
                lightBtn.classList.add('active');
                darkBtn.classList.remove('active');
                localStorage.setItem('theme', 'light');
            }
        }

        // Initialize theme from localStorage on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                setTheme('dark');
            }
        });

        // Scroll to top function
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    </script>
</body>
</html>